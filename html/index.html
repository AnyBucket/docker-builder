<!DOCTYPE html>
<head>
<meta charset="utf-8">
<link href="css/bootstrap.css" rel="stylesheet" type="text/css" />
<link href="css/bootstrap.min.css" rel="stylesheet" type="text/css" />
<link rel="stylesheet" type="text/css" href="css/style.css" />
<link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>



<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="js/bootstrap.min.js"></script>


<script>
	$('#dockerfile').click(function (e) {
	  e.preventDefault()
	  $(this).tab('show')
	});

$(document).ready(function(){
	$('#dockerfileButton').click(function() {

		$("#status").html("Starting Build");

		var data = {
			image_name:$("#image_name").val(),
			username:$("#user_name").val(),
			password:$("#pass_word").val(),
			dockerfile:$("textarea#dockermessage").val()
		};
		// $.post("http://127.0.0.1:8080/api/v1/build", JSON.stringify(request),
  // 			function(data) {
  // 				$("#status").html("Building");
  // 				var response = jQuery.parseJSON(data);
  // 				var jobid = response.JobIdentifier
  //  				// alert("Data: " + data + "\nStatus: " + status);
  //  		});

   		    $.ajax({
                type: "POST",
                url: "/api/v1/build",
                data: JSON.stringify(data),
                dataType: 'json',
                success: function(data) {
					$("#status").html("Building");
                },
                error: function(jqXHR, textStatus, errorThrown) {
                   $("#status").html("Error");
                }
            });
	});
});
	$('#github').click(function (e) {
	  e.preventDefault()
	  $(this).tab('show')
	});

$(document).ready(function(){
	$('#githubButton').click(function (e) {
		var request = {
			image_name:$("#image_name").val(),
			username:$("#user_name").val(),
			password:$("#pass_word").val(),
			github_username:$("github_username").val(),
			github_reponame:$("github_reponame").val(),
			github_tag:$("github_tag").val()

		};

	    $.ajax({
	        type: "POST",
	        url: "/api/v1/build",
	        data: JSON.stringify(request),
	        dataType: 'json',
	        success: function(data) {
	        	var jidstring = data.JobIdentifier
				$("#status").html("Building");
	        },
	        error: function(jqXHR, textStatus, errorThrown) {
	           $("#status").html("Error");
	        }
    	});
	});
});


	$('#tarurl').click(function (e) {



	});
$(document).ready(function(){
	$('#tarurlButton').click(function (e) {
	 


	});
});
	</script>
</head>


	<body>
	<div class="container">
		<form id="slick-login">
			<img class="cloud" src="css/cropped-cloud.png" align="middle">
			<input type="text" name="username" class="form-control" placeholder="Image Repository Username" id="user_name">
			<input type="text" name="imagename" class="form-control" placeholder="Image Name" id="image_name">
			<input type="password" name="password" class="form-control" placeholder="Password" id="pass_word">

					<!-- Nav tabs -->
		<ul class="nav nav-tabs nav-pills" id="tabcontrol">
		  <li class="active"><a href="#dockerfile" data-toggle="tab">Dockerfile</a></li>
		  <li><a href="#github" data-toggle="tab">Github</a></li>
		  <li><a href="#tarurl" data-toggle="tab">Tar Url</a></li>
		</ul>

		<!-- Tab panes -->
		<div class="tab-content">
		  <div class="tab-pane active" id="dockerfile">
				<textarea type="text" name="dockermessage" class="form-control" placeholder="Dockerfile" wrap="off" id="dockermessage"></textarea>
				<button class="btn btn-primary btn-large" id="dockerfileButton" type="button">Submit</button>

		  </div>
		  <div class="tab-pane" id="github">
		  	<input type="text" name="GHUsername" class="form-control" placeholder="Github Username" id="github_username">
			<input type="text" name="GHRepoName" class="form-control" placeholder="Github Repository Name" id="github_reponame">
			<input type="text" name="GHTagName" class="form-control" placeholder="Github Tag Name" id="github_tag">
		  	<button class="btn btn-primary btn-large" id="githubButton" type="button">Submit</button>
		  </div>
		  <div class="tab-pane" id="tarurl">
		  	<input type="text" name="Tarurl" class="form-control" placeholder="Tar Url">
		  	<button class="btn btn-primary btn-large" id="tarurlButton" type="button">Submit</button>
		  	
		  </div>

		</div>
	<!-- status -->

		<p id="status">
			Status	
		</p>

<!-- 		<div id="progress" class="container">
			<progress></progress>
		</div> -->

	


		</form>

	



	</body>



</html>


